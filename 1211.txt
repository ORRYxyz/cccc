# ==========================================================
# üíÄ RevenantX CMD Utility (Safe Edition)
# Version: Mock 1.3
# ==========================================================

Clear-Host

# ==========================================================
# üîê KeyAuth Mock System v1.3 (Safe + Local Only)
# ==========================================================

$KeyAuth = @{
    version = "1.3"
    appName = "Piggy Changer"
    allowedKeys = @(
        @{ key="ABC-123-TEST"; expires="2026-01-20"; level=1 },
        @{ key="VIP-999-ACCESS"; expires="2027-05-10"; level=3 }
    )
}

function Check-KeyAuth {
    param([string]$inputKey)

    foreach ($k in $KeyAuth.allowedKeys) {
        if ($k.key -eq $inputKey) {

            if ([DateTime]::Now -gt [DateTime]$k.expires) {
                return @{ success=$false; reason="KEY_EXPIRED" }
            }

            return @{ success=$true; level=$k.level }
        }
    }

    return @{ success=$false; reason="INVALID_KEY" }
}

# ==========================================================
# Menu UI
# ==========================================================

Write-Host ""
Write-Host "             WELCOME TO REVENANTX CMD (SAFE)     " -ForegroundColor Cyan
Write-Host "                KeyAuth System v1.3               " -ForegroundColor Gray
Write-Host ""
Write-Host " [1] Install (Safe Simulation)" -ForegroundColor Green
Write-Host " [2] Clean (Safe Simulation)" -ForegroundColor Yellow
Write-Host ""
$choice = Read-Host ">>> Enter your choice (1/2)"

# ==========================================================
# Install Mode (Simulation only)
# ==========================================================

if ($choice -eq "1") {

    Write-Host "`nüîê ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏Ñ‡∏µ‡∏¢‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Install" -ForegroundColor Cyan
    $userKey = Read-Host ">>> Enter Key"

    $auth = Check-KeyAuth -inputKey $userKey

    if (-not $auth.success) {
        if ($auth.reason -eq "KEY_EXPIRED") {
            Write-Host "`n[‚úñ] Key ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß!" -ForegroundColor Red
        } else {
            Write-Host "`n[‚úñ] Key ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!" -ForegroundColor Red
        }
        exit
    }

    Write-Host "`n[‚úî] Key ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! Access Level: $($auth.level)" -ForegroundColor Green
    Start-Sleep -Seconds 1

    Write-Host "`n[üöÄ] ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á..." -ForegroundColor Cyan
    Start-Sleep -Seconds 1

    Write-Host "[‚úî] ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏à‡∏≥‡∏•‡∏≠‡∏á..." -ForegroundColor Green
    Start-Sleep -Milliseconds 800

    Write-Host "[‚úî] ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏≥‡∏•‡∏≠‡∏á..." -ForegroundColor Green
    Start-Sleep -Milliseconds 800

    Write-Host "[‚úî] ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (Simulation Only)" -ForegroundColor Green
    Write-Host "`n[‚úÖ] Installation Completed!" -ForegroundColor Green
}

# ==========================================================
# Clean Mode (Simulation only)
# ==========================================================

elseif ($choice -eq "2") {

    Write-Host "`n[üßπ] ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î (Simulation)..." -ForegroundColor Yellow
    Start-Sleep -Milliseconds 700

    Write-Host "[‚úî] ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢" -ForegroundColor Green
    Write-Host "[‚úî] ‡∏•‡∏ö‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢" -ForegroundColor Green

    Write-Host "`n[‚úÖ] Cleanup Completed!" -ForegroundColor Green
}

else {
    Write-Host "`n[‚úñ] Invalid selection. Please choose 1 or 2." -ForegroundColor Red
}

# ==========================================================
# End of Safe Script
# ==========================================================
